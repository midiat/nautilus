(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o("A36C"),i=o("iWo5"),r=o("qULd");const a=(e,t)=>{let o,a;const c=(e,n,i)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(e,n);r&&t(r)?r!==o&&(l(),s(r,i)):l()},s=(e,t)=>{o=e,a||(a=o);const i=o;Object(n.f)(()=>i.classList.add("ion-activated")),t()},l=(e=!1)=>{if(!o)return;const t=o;Object(n.f)(()=>t.classList.remove("ion-activated")),e&&a!==o&&o.click(),o=void 0};return Object(i.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>c(e.currentX,e.currentY,r.a),onMove:e=>c(e.currentX,e.currentY,r.b),onEnd:()=>{l(!0),Object(r.e)(),a=void 0}})}},"2MiI":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o("fXoL"),i=o("tyNb"),r=o("TEn/");let a=(()=>{class e{constructor(e){this.router=e,this.titulo=""}ngOnInit(){}url(e){this.router.navigateByUrl(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Ib(i.g))},e.\u0275cmp=n.Cb({type:e,selectors:[["app-header"]],inputs:{titulo:"titulo"},decls:8,vars:1,consts:[[1,"headerContainer"],[1,"containerActions"],["slot","start"],[3,"click"],["slot","icon-only","color","dark","name","chevron-back"],[1,"containerTitle"],[1,"title"]],template:function(e,t){1&e&&(n.Lb(0,"div",0),n.Lb(1,"div",1),n.Lb(2,"ion-buttons",2),n.Lb(3,"ion-button",3),n.Tb("click",(function(){return t.url("/home")})),n.Jb(4,"ion-icon",4),n.Kb(),n.Kb(),n.Kb(),n.Lb(5,"div",5),n.Lb(6,"p",6),n.fc(7),n.Kb(),n.Kb(),n.Kb()),2&e&&(n.xb(7),n.gc(t.titulo))},directives:[r.j,r.i,r.t],styles:[".headerContainer[_ngcontent-%COMP%]{display:inline-flex;margin-top:1rem}.containerActions[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.containerTitle[_ngcontent-%COMP%]{position:absolute;right:0;width:77.5%;padding:.85rem 0;align-self:center;background:linear-gradient(45deg,var(--ion-color-primary),var(--ion-color-secondary));border-top-left-radius:2rem;border-bottom-left-radius:2rem}.title[_ngcontent-%COMP%]{color:var(--ion-color-light);opacity:1%;margin:0!important;padding-right:2rem;text-align:right;font-size:1.25rem;font-weight:300}"]}),e})()},"74mu":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return n})),o.d(t,"d",(function(){return c}));const n=(e,t)=>null!==t.closest(e),i=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,["ion-color-"+e]:!0},t):t,r=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},a=/^[a-z][a-z0-9+\-.]*:/,c=async(e,t,o,n)=>{if(null!=e&&"#"!==e[0]&&!a.test(e)){const i=document.querySelector("ion-router");if(i)return null!=t&&t.preventDefault(),i.push(e,o,n)}return!1}},"9kOc":function(e,t,o){"use strict";o.d(t,"a",(function(){return h}));var n=o("tyNb"),i=o("mrSG"),r=o("f6ue"),a=o("3Pt+"),c=o("AytR"),s=o("fXoL"),l=o("kZ8S"),u=o("on2l"),d=o("TEn/"),m=o("a/9d");const b=[{path:"",component:(()=>{class e{constructor(e,t,o,n,i,r,s){this.dataLocalService=e,this.usuarioService=t,this.actionSheetController=o,this.alertController=n,this.formBuilder=i,this.camera=r,this.modalController=s,this.baseUrl=c.a.baseUrl,this.noImage="noImage.svg",this.offlineImage="../../../../assets/images/img_avatar.png",this.testImage="",this.userData=this.formBuilder.group({nombre:[this.dataLocalService.usuario.nombre,[a.j.required,a.j.minLength(3)]],email:[this.dataLocalService.usuario.email,[a.j.required,a.j.email]]})}changeImg(){return Object(i.a)(this,void 0,void 0,(function*(){console.log("Cambiar Imagen");const e=yield this.actionSheetController.create({header:"Cambia la imagen de tu perfil",cssClass:"my-custom-class",buttons:[{text:"Tomar foto",icon:"camera-outline",handler:()=>{console.log("Camara en funci\xf3n"),this.abrirCamara()}},{text:"Galer\xeda",icon:"image-outline",handler:()=>{console.log("Galer\xeda abierta"),this.abrirGaler\u00eda()}},{text:"Cancelar",icon:"close",role:"cancel",handler:()=>{console.log("Cancelado")}}]});yield e.present()}))}actualizarDatos(){return Object(i.a)(this,void 0,void 0,(function*(){if(console.log(this.userData.value),this.userData.invalid){const e=yield this.alertController.create({backdropDismiss:!1,header:"\xa1Hey!",message:"Aseg\xfarate de haber completado todos los campos.",buttons:["ok"]});yield e.present()}yield this.usuarioService.actualizarPerfil(this.userData.value).then(e=>Object(i.a)(this,void 0,void 0,(function*(){if(console.log(e),!0===e.ok){const t=yield this.alertController.create({backdropDismiss:!1,header:"\xa1Perfecto!",message:"Se ha actualizado correctamente tu informaci\xf3n.",buttons:["ok"]});yield t.present(),this.dataLocalService.guardarToken(e.token),this.usuarioService.getUserData(e.token).then(e=>{this.dataLocalService.guardarUsuario(e.user)})}else{const t=yield this.alertController.create({backdropDismiss:!1,header:e.header,message:e.msg,buttons:["ok"]});yield t.present()}})))}))}userImages_modal(e){return Object(i.a)(this,void 0,void 0,(function*(){console.log("Modal Abierto");const t=yield this.modalController.create({component:r.a,cssClass:"my-custom-class",componentProps:{imgDir:e}});return yield t.present()}))}imgConfig(e){this.camera.getPicture(e).then(e=>{console.log(e);const t=window.Ionic.WebView.convertFileSrc(e);console.log(t),this.testImage=t,this.dataLocalService.guardarNuevaImagenTmp_Usuario(t),this.userImages_modal(e)},e=>{console.log(e)})}abrirCamara(){this.imgConfig({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0,sourceType:this.camera.PictureSourceType.CAMERA})}abrirGaler\u00eda(){this.imgConfig({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY})}}return e.\u0275fac=function(t){return new(t||e)(s.Ib(l.a),s.Ib(u.a),s.Ib(d.a),s.Ib(d.b),s.Ib(a.a),s.Ib(m.a),s.Ib(d.U))},e.\u0275cmp=s.Cb({type:e,selectors:[["app-perfil"]],decls:27,vars:3,consts:[["slot","start"],["defaultHref","/dashboard"],[1,"ion-padding"],[1,"ion-padding","ion-text-center"],[2,"border-radius","100%","max-width","50%",3,"src"],[1,"btnChangeImg",3,"click"],[3,"formGroup"],["slot","start","name","person-circle-outline","color","secondary"],["position","stacked","color","primary",2,"opacity","0.6"],["type","text","formControlName","nombre"],[2,"padding-top","20px"],["slot","start","name","at-outline","color","secondary"],["type","email","formControlName","email"],[1,"ion-text-center"],["color","tertiary","fill","outline","shape","round",1,"ion-padding",3,"click"],["slot","start","name","save-outline"]],template:function(e,t){1&e&&(s.Lb(0,"ion-header"),s.Lb(1,"ion-toolbar"),s.Lb(2,"ion-buttons",0),s.Jb(3,"ion-back-button",1),s.Kb(),s.Lb(4,"ion-title"),s.fc(5,"Perfil"),s.Kb(),s.Kb(),s.Kb(),s.Lb(6,"ion-content",2),s.Lb(7,"div",3),s.Jb(8,"img",4),s.Kb(),s.Lb(9,"span",5),s.Tb("click",(function(){return t.changeImg()})),s.fc(10,"Cambiar imagen"),s.Kb(),s.Lb(11,"div",2),s.Lb(12,"form",6),s.Lb(13,"ion-item"),s.Jb(14,"ion-icon",7),s.Lb(15,"ion-label",8),s.fc(16,"Nombre:"),s.Kb(),s.Jb(17,"ion-input",9),s.Kb(),s.Lb(18,"ion-item",10),s.Jb(19,"ion-icon",11),s.Lb(20,"ion-label",8),s.fc(21,"Email:"),s.Kb(),s.Jb(22,"ion-input",12),s.Kb(),s.Kb(),s.Kb(),s.Lb(23,"div",13),s.Lb(24,"ion-button",14),s.Tb("click",(function(){return t.actualizarDatos()})),s.Jb(25,"ion-icon",15),s.fc(26," Guardar "),s.Kb(),s.Kb(),s.Kb()),2&e&&(s.xb(8),s.Zb("src","",t.baseUrl,"/upload/users/",t.dataLocalService.usuario.img||t.noImage,"",s.cc),s.xb(4),s.Yb("formGroup",t.userData))},directives:[d.s,d.Q,d.j,d.f,d.g,d.P,d.q,a.k,a.h,a.c,d.y,d.t,d.C,d.x,d.bb,a.g,a.b,d.i],styles:[".btnChangeImg[_ngcontent-%COMP%]{display:flex;justify-content:center;cursor:pointer;color:var(--ion-color-medium-tint);font-weight:500;transition:.1s ease}.btnChangeImg[_ngcontent-%COMP%]:active, .btnChangeImg[_ngcontent-%COMP%]:hover{color:var(--ion-color-dark-tint)}"]}),e})()}];let h=(()=>{class e{}return e.\u0275mod=s.Gb({type:e}),e.\u0275inj=s.Fb({factory:function(t){return new(t||e)},imports:[[n.i.forChild(b)],n.i]}),e})()},IrbQ:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var n=o("mrSG"),i=o("f6ue"),r=o("fXoL"),a=o("a/9d"),c=o("TEn/"),s=o("kZ8S");let l=(()=>{class e{constructor(e,t,o){this.camera=e,this.modalController=t,this.dataLocalService=o,this.testImage=""}userImages_modal(){return Object(n.a)(this,void 0,void 0,(function*(){console.log("Modal Abierto");const e=yield this.modalController.create({component:i.a,cssClass:"my-custom-class"});return yield e.present()}))}imgConfig(e){this.camera.getPicture(e).then(e=>{console.log(e);const t=window.Ionic.WebView.convertFileSrc(e);console.log(t),this.testImage=t,this.dataLocalService.guardarNuevaImagenTmp_Usuario(t),this.userImages_modal()},e=>{console.log(e)})}openCamera(){this.imgConfig({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0,sourceType:this.camera.PictureSourceType.CAMERA})}openGalery(){this.imgConfig({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(a.a),r.Pb(c.U),r.Pb(s.a))},e.\u0275prov=r.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},SKeb:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var n=o("cxbk"),i=o("tk/3"),r=o("fXoL"),a=o("kZ8S");const c=n.a.baseUrl;let s=(()=>{class e{constructor(e,t){this.http=e,this.dataLocalService=t,t.cargarToken()}busqueda_Coleccion(e,t){console.log(">>> Buscando elementos que concidan con: "+e);const o=new i.c({"x-token":this.dataLocalService.token});return new Promise(n=>{this.http.get(`${c}/search/collection/${t}/${e}`,{headers:o}).subscribe(e=>{!0===e.ok&&n(e.resultados)},e=>{})})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(i.a),r.Pb(a.a))},e.\u0275prov=r.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ZaV5:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return i}));const n=async(e,t,o,n,i)=>{if(e)return e.attachViewToDom(t,o,i,n);if("string"!=typeof o&&!(o instanceof HTMLElement))throw new Error("framework delegate is missing");const r="string"==typeof o?t.ownerDocument&&t.ownerDocument.createElement(o):o;return n&&n.forEach(e=>r.classList.add(e)),i&&Object.assign(r,i),t.appendChild(r),r.componentOnReady&&await r.componentOnReady(),r},i=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},cx2M:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var n=o("mrSG"),i=o("tk/3"),r=o("AytR"),a=o("fXoL"),c=o("kZ8S");const s=r.a.baseUrl;let l=(()=>{class e{constructor(e,t){this.http=e,this.dataLocalService=t}ngOnInit(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.dataLocalService.cargarToken()}))}crearMedico(e){console.log(">>> Registrando a un nuevo m\xe9dico...");const t=new i.c({"x-token":this.dataLocalService.token});return new Promise(o=>{this.http.post(s+"/doctores",e,{headers:t}).subscribe(e=>{console.log(e),!0===e.ok&&(console.log(">>> Medico registrado."),o(e.doctor))},e=>{console.log(">>> No fue posible registrar al m\xe9dico."),o(e)})})}obtenerMedicos(e){console.log(">>> Obteniendo a los m\xe9dicos registrados...");const t=new i.c({"x-token":this.dataLocalService.token});return new Promise(o=>{this.http.get(`${s}/doctores?desde=${e}`,{headers:t}).subscribe(e=>{console.log(e),!0===e.ok&&(o(e),console.log(">>> M\xe9dicos listados."))},e=>{o(e)})})}actualizaMedico(e,t){console.log(">>> Actualizando al m\xe9dico...");const o=new i.c({"x-token":this.dataLocalService.token});return new Promise(n=>{this.http.put(`${s}/doctores/${t}`,e,{headers:o}).subscribe(e=>{console.log(e),!0===e.ok&&(n({header:e.header,data:e.data}),console.log(">>> M\xe9dico actualizado."))},e=>{n(e)})})}eliminaM\u00e9dico(e){console.log(">>> Eliminando m\xe9dico...");const t=new i.c({"x-token":this.dataLocalService.token});return new Promise(o=>{this.http.delete(`${s}/doctores/${e}`,{headers:t}).subscribe(e=>{console.log(e),!0===e.ok&&o({header:e.header,msg:e.msg,doctorName:e.doctorName,cedulaProf:e.doctorName,doctorId:e.doctorId})},e=>{o(e)})})}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(i.a),a.Pb(c.a))},e.\u0275prov=a.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},cxbk:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));const n={production:!0,baseUrl:"https://nautilus-azbel.herokuapp.com/api"}},f6ue:function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var n=o("mrSG"),i=o("fXoL"),r=o("kZ8S"),a=o("TEn/"),c=o("AytR"),s=o("tk/3"),l=o("B7Rs");const u=c.a.baseUrl;let d=(()=>{class e{constructor(e,t,o){this.http=e,this.fileTransfer=t,this.dataLocalService=o}actualizarFoto(e,t,o){return Object(n.a)(this,void 0,void 0,(function*(){const n={fileKey:"image",headers:{"x-token":this.dataLocalService.token}},i=this.fileTransfer.create();yield i.upload(e,`${u}/upload/${t}/${o}`,n).then(e=>{console.log(e)}).catch(e=>{console.log("Error en la carga",e)})}))}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(s.a),i.Pb(l.a),i.Pb(r.a))},e.\u0275prov=i.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),m=(()=>{class e{constructor(e,t,o,n){this.dataLocalService=e,this.modalController=t,this.alertController=o,this.fileUploadsService=n,this.userImg="",this.userImg=e.imageUrl}actualizarDatos(){return Object(n.a)(this,void 0,void 0,(function*(){console.log("Funciona actualizarDatos"),console.log(this.imgDir);const e=this.dataLocalService.usuario.userID;yield this.fileUploadsService.actualizarFoto(this.imgDir,"users",e)}))}actualizarDatos_1(){return Object(n.a)(this,void 0,void 0,(function*(){console.log("Funciona actualizarDatos");const e=yield this.alertController.create({backdropDismiss:!1,header:"Una disculpa...",message:"El servicio de actualizaci\xf3n de foto de perfil actualmente no se encuentra disponible, hable con el administrador para m\xe1s detalles.",buttons:["ok"]});yield e.present(),this.dataLocalService.eliminarNuevaImagenTmp_Usuario(),this.modalController.dismiss({dismissed:!0})}))}cancelarActualizacion(){console.log("Funciona cancelarActualizacion"),this.dataLocalService.eliminarNuevaImagenTmp_Usuario(),this.modalController.dismiss({dismissed:!0})}}return e.\u0275fac=function(t){return new(t||e)(i.Ib(r.a),i.Ib(a.U),i.Ib(a.b),i.Ib(d))},e.\u0275cmp=i.Cb({type:e,selectors:[["app-user-image"]],inputs:{imgDir:"imgDir"},decls:22,vars:1,consts:[[1,"ion-padding"],[1,"ion-text-center"],[1,"ion-padding-top"],[1,"avatar",3,"src"],["fixed",""],["size","6"],["color","success","fill","outline","shape","round",1,"ion-padding",3,"click"],["slot","start","name","refresh-outline"],["color","medium","fill","outline","shape","round",1,"ion-padding",3,"click"],["slot","start","name","close"]],template:function(e,t){1&e&&(i.Lb(0,"ion-header"),i.Lb(1,"ion-toolbar"),i.Lb(2,"ion-title"),i.fc(3,"Nueva Imagen de Perfil"),i.Kb(),i.Kb(),i.Kb(),i.Lb(4,"ion-content",0),i.Lb(5,"ion-label",1),i.Lb(6,"h1",2),i.fc(7,"\xbfAsignar esta nueva foto de perfil?"),i.Kb(),i.Kb(),i.Lb(8,"div",1),i.Jb(9,"img",3),i.Kb(),i.Lb(10,"ion-grid",4),i.Lb(11,"ion-row"),i.Lb(12,"ion-col",5),i.Lb(13,"div",1),i.Lb(14,"ion-button",6),i.Tb("click",(function(){return t.actualizarDatos()})),i.Jb(15,"ion-icon",7),i.fc(16," Actualizar "),i.Kb(),i.Kb(),i.Kb(),i.Lb(17,"ion-col",5),i.Lb(18,"div",1),i.Lb(19,"ion-button",8),i.Tb("click",(function(){return t.cancelarActualizacion()})),i.Jb(20,"ion-icon",9),i.fc(21," Cancelar "),i.Kb(),i.Kb(),i.Kb(),i.Kb(),i.Kb(),i.Kb()),2&e&&(i.xb(9),i.Yb("src",t.userImg,i.cc))},directives:[a.s,a.Q,a.P,a.q,a.C,a.r,a.K,a.p,a.i,a.t],styles:[".avatar[_ngcontent-%COMP%]{margin:20px;width:85%}"]}),e})()},h3R7:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));const n={bubbles:{dur:1e3,circles:9,fn:(e,t,o)=>{const n=e*t/o-e+"ms",i=2*Math.PI*t/o;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(e,t,o)=>{const n=t/o,i=e*n-e+"ms",r=2*Math.PI*n;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,o)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/o-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,o)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/o-e+"ms"}})}}},j1ZV:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var n=o("ofXK"),i=o("TEn/"),r=o("3Pt+"),a=o("9kOc"),c=o("fXoL");let s=(()=>{class e{}return e.\u0275mod=c.Gb({type:e}),e.\u0275inj=c.Fb({factory:function(t){return new(t||e)},imports:[[r.d,r.i,n.b,i.R],a.a]}),e})()},qULd:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return i})),o.d(t,"d",(function(){return s})),o.d(t,"e",(function(){return c}));const n={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const o=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:o})},notification(e){const t=this.getEngine();if(!t)return;const o=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:o})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},i=()=>{n.selection()},r=()=>{n.selectionStart()},a=()=>{n.selectionChanged()},c=()=>{n.selectionEnd()},s=e=>{n.impact(e)}}}]);