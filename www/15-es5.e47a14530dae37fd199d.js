!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{t0fT:function(t,i,r){"use strict";r.r(i),r.d(i,"PacientesPageModule",(function(){return M}));var a,c=r("ofXK"),s=r("3Pt+"),l=r("TEn/"),u=r("tyNb"),b=r("mrSG"),d=r("cxbk"),p=r("fXoL"),f=r("tk/3"),m=r("AytR"),h=r("kZ8S"),g=m.a.baseUrl,v=((a=function(){function e(t,i){n(this,e),this.http=t,this.dataLocalService=i}return o(e,[{key:"ngOnInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dataLocalService.cargarToken();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"crearPaciente",value:function(e){var t=this;console.log(">>> Registrando a un nuevo paciente...");var n=new f.c({"x-token":this.dataLocalService.token});return new Promise((function(i){t.http.post(g+"/pacientes",e,{headers:n}).subscribe((function(e){console.log(e),!0===e.ok&&i(e.paciente),console.log(">>> Paciente registrado.")}),(function(e){i(e),console.log(">>> No se pudo crear al paciente.")}))}))}},{key:"obtenerPacientes",value:function(e){var t=this;console.log(">>> Obteniendo a los pacientes registrados...");var n=new f.c({"x-token":this.dataLocalService.token});return new Promise((function(i){t.http.get("".concat(g,"/pacientes?desde=").concat(e),{headers:n}).subscribe((function(e){console.log(e),!0===e.ok&&(i({total:e.total,pacientes:e.pacientes}),console.log(">>> Pacientes listados."))}),(function(e){i(e),console.log(">>> No se pudo listar a los pacientes.")}))}))}},{key:"actualizarPaciente",value:function(e,t){var n=this;console.log(">>> Actualizando al paciente seleccionado...");var i=new f.c({"x-token":this.dataLocalService.token});return new Promise((function(o){n.http.put("".concat(g,"/pacientes/").concat(t),e,{headers:i}).subscribe((function(e){console.log(e),!0===e.ok&&(o({msg:e.msg,data:e.data}),console.log(">>> Paciente seleccionado actualizado."))}),(function(e){o(e),console.log(">>> No se pudo actualizar al paciente.")}))}))}},{key:"eliminarPaciente",value:function(e){var t=this;console.log(">>> Eliminando al paciente seleccionado...");var n=new f.c({"x-token":this.dataLocalService.token});return new Promise((function(i){t.http.delete("".concat(g,"/pacientes/").concat(e),{headers:n}).subscribe((function(e){console.log(e),!0===e.ok&&(i({header:e.header,msg:e.msg,nombrePaciente:e.nombrePaciente,idPaciente:e.idPaciente}),console.log(">>> Paciente eliminado."))}),(function(e){i(e),console.log(">>> No se pudo eliminar al paciente.")}))}))}}]),e}()).\u0275fac=function(e){return new(e||a)(p.Pb(f.a),p.Pb(h.a))},a.\u0275prov=p.Eb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),x=r("cx2M"),L=r("IrbQ");function y(e,t){if(1&e){var n=p.Mb();p.Lb(0,"div",10),p.Lb(1,"ion-grid",11),p.Lb(2,"ion-row"),p.Lb(3,"ion-col",12),p.Lb(4,"img",13),p.Tb("click",(function(){return p.bc(n),p.Vb().changeProperties()})),p.Kb(),p.Kb(),p.Lb(5,"ion-col",14),p.Lb(6,"h1",15),p.fc(7),p.Kb(),p.Lb(8,"ion-text",16),p.Lb(9,"span",17),p.fc(10,"Edad: "),p.Kb(),p.Lb(11,"span",18),p.fc(12),p.Kb(),p.Jb(13,"br"),p.Lb(14,"span",17),p.fc(15,"Email: "),p.Kb(),p.Lb(16,"span",18),p.fc(17),p.Kb(),p.Kb(),p.Kb(),p.Kb(),p.Kb(),p.Kb()}if(2&e){var i=p.Vb();p.xb(4),p.Zb("src","",i.baseUrl,"/upload/medicos/",i.paciente.img||i.noImage,"",p.cc),p.xb(3),p.gc(i.paciente.nombre),p.xb(5),p.gc(i.paciente.edad),p.xb(5),p.gc(i.paciente.email)}}function k(e,t){if(1&e&&(p.Lb(0,"form",19),p.Lb(1,"ion-item"),p.Jb(2,"ion-icon",20),p.Lb(3,"ion-label",21),p.fc(4,"Nombre:"),p.Kb(),p.Jb(5,"ion-input",22),p.Kb(),p.Lb(6,"ion-item"),p.Jb(7,"ion-icon",20),p.Lb(8,"ion-label",21),p.fc(9,"Edad:"),p.Kb(),p.Jb(10,"ion-input",23),p.Kb(),p.Lb(11,"ion-item"),p.Jb(12,"ion-icon",20),p.Lb(13,"ion-label",21),p.fc(14,"Email:"),p.Kb(),p.Jb(15,"ion-input",24),p.Kb(),p.Kb()),2&e){var n=p.Vb();p.Yb("formGroup",n.updatePatient)}}function K(e,t){if(1&e&&(p.Lb(0,"form",19),p.Lb(1,"ion-item"),p.Jb(2,"ion-icon",20),p.Lb(3,"ion-label",21),p.fc(4,"Nombre:"),p.Kb(),p.Jb(5,"ion-input",22),p.Kb(),p.Lb(6,"ion-item"),p.Jb(7,"ion-icon",20),p.Lb(8,"ion-label",21),p.fc(9,"Edad:"),p.Kb(),p.Jb(10,"ion-input",25),p.Kb(),p.Lb(11,"ion-item"),p.Jb(12,"ion-icon",20),p.Lb(13,"ion-label",21),p.fc(14,"Email:"),p.Kb(),p.Jb(15,"ion-input",24),p.Kb(),p.Lb(16,"ion-item"),p.Jb(17,"ion-icon",20),p.Lb(18,"ion-label",21),p.fc(19,"M\xe9dico a asignar:"),p.Kb(),p.Jb(20,"ion-input",26),p.Kb(),p.Kb()),2&e){var n=p.Vb();p.Yb("formGroup",n.createPatient)}}function w(e,t){if(1&e){var n=p.Mb();p.Lb(0,"ion-button",27),p.Tb("click",(function(){return p.bc(n),p.Vb().actualizarPaciente()})),p.Jb(1,"ion-icon",28),p.fc(2," Guardar "),p.Kb()}}function P(e,t){if(1&e){var n=p.Mb();p.Lb(0,"ion-button",29),p.Tb("click",(function(){return p.bc(n),p.Vb().registrarPaciente()})),p.Jb(1,"ion-icon",30),p.fc(2," Registrar "),p.Kb()}}var C,I=((C=function(){function e(t,i,o,r,a,c,s,l,u){n(this,e),this.formBuilder=t,this.alertController=i,this.modalController=o,this.toastController=r,this.pickerController=a,this.actionSheetController=c,this.pacienteService=s,this.medicoService=l,this.hardwarecontrollerService=u,this.baseUrl=d.a.baseUrl,this.noImage="noImage.svg",this.instruction="",this.escogerDoctor()}return o(e,[{key:"ngOnInit",value:function(){this.buildForms()}},{key:"buildForms",value:function(){if(console.log(this.create),!0===this.create)this.instruction="Registra un nuevo paciente",this.createPatient=this.formBuilder.group({nombre:["",[s.j.required,s.j.minLength(3)]],edad:["",[s.j.required]],email:["",[s.j.required,s.j.email]],doctor:["5fac15782f6a0519a4501064",[s.j.required]]});else{var e=this.paciente.nombre.split(" ");this.instruction="Editar datos de "+e[0],this.updatePatient=this.formBuilder.group({nombre:[this.paciente.nombre,[s.j.required,s.j.minLength(3)]],edad:[this.paciente.edad,[s.j.required]],email:[this.paciente.email,[s.j.required,s.j.email]]})}}},{key:"cerrarModal",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({backdropDismiss:!1,header:"\xa1Hey!",message:"No se han guardado los cambios. \xbfQuieres continuar?.",buttons:[{text:"S\xed",cssClass:"confirm",handler:function(){n.modalController.dismiss()}},{text:"No",cssClass:"cancel"}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"changeProperties",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Cambiando las propiedades"),e.next=3,this.actionSheetController.create({header:"Escoge una acci\xf3n:",buttons:[{text:"Cambiar imagen desde c\xe1mara",icon:"camera-outline",handler:function(){console.log("Camara en funci\xf3n"),n.hardwarecontrollerService.openCamera()}},{text:"Cambiar imagen desde galer\xeda",icon:"image-outline",handler:function(){console.log("Galer\xeda abierta"),n.hardwarecontrollerService.openGalery()}},{text:"Cancelar",icon:"close",role:"cancel",handler:function(){console.log("Cancelado")}}]});case 3:return t=e.sent,e.next=6,t.present();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"actualizarPaciente",value:function(){var e=this;console.log(">>! Funciona actualizar m\xe9dico."),this.pacienteService.actualizarPaciente(this.updatePatient.value,this.paciente._id).then((function(t){return Object(b.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.toastController.create({header:t.header,position:"bottom"});case 3:e.sent.present(),setTimeout((function(){n.toastController.dismiss()}),5e3),this.modalController.dismiss({itemReturned:t.data});case 6:case"end":return e.stop()}}),e,this)})))}))}},{key:"registrarPaciente",value:function(){var e=this;console.log(">>! Funciona registrar paciente."),this.pacienteService.crearPaciente(this.createPatient.value).then((function(t){return Object(b.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.toastController.create({header:"Paciente registrado exitosamente.",position:"bottom"});case 3:e.sent.present(),setTimeout((function(){n.toastController.dismiss()}),3e3),this.modalController.dismiss({itemReturned:!0});case 6:case"end":return e.stop()}}),e,this)})))}))}},{key:"escogerDoctor",value:function(){this.medicoService.obtenerMedicos(0).then((function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||C)(p.Ib(s.a),p.Ib(l.b),p.Ib(l.U),p.Ib(l.cb),p.Ib(l.X),p.Ib(l.a),p.Ib(v),p.Ib(x.a),p.Ib(L.a))},C.\u0275cmp=p.Cb({type:C,selectors:[["app-editar-crear"]],inputs:{paciente:"paciente",create:"create"},decls:15,vars:6,consts:[["slot","end"],["color","danger",3,"click"],["slot","icon-only","name","close-outline","color","dark"],[1,"ion-padding"],["class","ion-padding ion-text-center",4,"ngIf"],[1,"ion-padding","ion-margin-top"],[3,"formGroup",4,"ngIf"],[1,"ion-text-center"],["color","tertiary","fill","outline","shape","round","class","ion-padding",3,"click",4,"ngIf"],["color","primary","fill","outline","shape","round","class","ion-padding",3,"click",4,"ngIf"],[1,"ion-padding","ion-text-center"],["fixed",""],["size","4",1,"ion-align-self-center"],[1,"avatarBtn",3,"src","click"],["size","8",1,"ion-align-self-center","ion-text-start","ion-padding-start"],[1,"ion-no-margin"],[2,"font-size","14px"],[2,"font-weight","300","color","var(--ion-color-medium-tint)"],[2,"font-weight","400","color","var(--ion-color-primary)"],[3,"formGroup"],["slot","start","name","person-circle-outline","color","secondary"],["position","stacked","color","primary",2,"opacity","0.6"],["type","text","formControlName","nombre"],["type","number","formControlName","edad"],["type","text","formControlName","email"],["type","number","min","1","max","2","formControlName","edad"],["type","text","formControlName","doctor"],["color","tertiary","fill","outline","shape","round",1,"ion-padding",3,"click"],["slot","start","name","save-outline"],["color","primary","fill","outline","shape","round",1,"ion-padding",3,"click"],["slot","start","name","add-outline"]],template:function(e,t){1&e&&(p.Lb(0,"ion-header"),p.Lb(1,"ion-toolbar"),p.Lb(2,"ion-title"),p.fc(3),p.Kb(),p.Lb(4,"ion-buttons",0),p.Lb(5,"ion-button",1),p.Tb("click",(function(){return t.cerrarModal()})),p.Jb(6,"ion-icon",2),p.Kb(),p.Kb(),p.Kb(),p.Kb(),p.Lb(7,"ion-content",3),p.ec(8,y,18,5,"div",4),p.Lb(9,"div",5),p.ec(10,k,16,1,"form",6),p.ec(11,K,21,1,"form",6),p.Kb(),p.Lb(12,"div",7),p.ec(13,w,3,0,"ion-button",8),p.ec(14,P,3,0,"ion-button",9),p.Kb(),p.Kb()),2&e&&(p.xb(3),p.gc(t.instruction),p.xb(5),p.Yb("ngIf",!1===t.create),p.xb(2),p.Yb("ngIf",!1===t.create),p.xb(1),p.Yb("ngIf",!0===t.create),p.xb(2),p.Yb("ngIf",!1===t.create),p.xb(1),p.Yb("ngIf",!0===t.create))},directives:[l.s,l.Q,l.P,l.j,l.i,l.t,l.q,c.i,l.r,l.K,l.p,l.O,s.k,s.h,s.c,l.y,l.C,l.x,l.bb,s.g,s.b,l.W],styles:[".avatarBtn[_ngcontent-%COMP%]{border-radius:100%;max-width:100%;box-shadow:0 0 10px 2px rgba(0,0,0,.2)}"]}),C),R=r("SKeb");function S(e,t){if(1&e){var n=p.Mb();p.Lb(0,"ion-refresher",15),p.Tb("ionRefresh",(function(e){return p.bc(n),p.Vb().actualizarLista_Pacientes(e)})),p.Jb(1,"ion-refresher-content"),p.Kb()}}function j(e,t){if(1&e&&(p.Lb(0,"div",16),p.Lb(1,"ion-card"),p.Lb(2,"ion-card-content",17),p.Jb(3,"ion-spinner",18),p.Lb(4,"p",19),p.fc(5),p.Kb(),p.Kb(),p.Kb(),p.Kb()),2&e){var n=p.Vb();p.xb(5),p.gc(n.loaderText_Card)}}function J(e,t){if(1&e){var n=p.Mb();p.Lb(0,"ion-list"),p.Lb(1,"ion-item-sliding"),p.Lb(2,"ion-item-options",20),p.Lb(3,"ion-item-option",21),p.Tb("click",(function(){p.bc(n);var e=t.$implicit;return p.Vb().editarPaciente(e)})),p.Jb(4,"ion-icon",22),p.Kb(),p.Kb(),p.Lb(5,"ion-item"),p.Lb(6,"ion-avatar",0),p.Jb(7,"img",23),p.Kb(),p.Lb(8,"ion-label"),p.Lb(9,"h2",24),p.fc(10),p.Kb(),p.Lb(11,"h3"),p.Lb(12,"span",25),p.fc(13,"Edad: "),p.Kb(),p.Lb(14,"span",26),p.fc(15),p.Kb(),p.Jb(16,"br"),p.Lb(17,"span",25),p.fc(18,"Email: "),p.Kb(),p.Lb(19,"span",26),p.fc(20),p.Kb(),p.Kb(),p.Kb(),p.Kb(),p.Lb(21,"ion-item-options",27),p.Lb(22,"ion-item-option",28),p.Tb("click",(function(){p.bc(n);var e=t.$implicit;return p.Vb().eliminarPaciente(e)})),p.Jb(23,"ion-icon",29),p.Kb(),p.Kb(),p.Kb(),p.Kb()}if(2&e){var i=t.$implicit,o=p.Vb();p.xb(7),p.Zb("src","",o.baseUrl,"/upload/pacientes/",i.img||o.noImage,"",p.cc),p.xb(3),p.gc(i.nombre),p.xb(5),p.gc(i.edad),p.xb(5),p.gc(i.email)}}function T(e,t){if(1&e&&(p.Lb(0,"div",19),p.Lb(1,"p",30),p.fc(2),p.Kb(),p.Kb()),2&e){var n=p.Vb();p.xb(2),p.gc(n.listenerText)}}var O,E,z,q=[{path:"",component:(O=function(){function t(e,i,o,r,a){n(this,t),this.alertController=e,this.modalController=i,this.toastController=o,this.pacienteService=r,this.busquedasService=a,this.baseUrl=d.a.baseUrl,this.noImage="noImage.svg",this.pacientes=[],this.totalRegistrados=0,this.updateList=!0,this.loading=!0,this.loaderText_Card="",this.completeListener=!1,this.listenerText="",this.desde=0}return o(t,[{key:"ngOnInit",value:function(){this.obtenerPacientes()}},{key:"crearPaciente",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>! Funciona crear m\xe9dico..."),e.next=3,this.modalController.create({component:I,cssClass:"my-custom-class",componentProps:{create:!0}});case 3:return t=e.sent,e.next=6,t.present();case 6:return e.next=8,t.onDidDismiss();case 8:n=e.sent,i=n.data,console.log(i),!0===i.itemReturned&&(this.desde=0,this.pacientes=[],this.completeListener=!1,this.infiniteScroll.disabled=!1,this.obtenerPacientes());case 11:case"end":return e.stop()}}),e,this)})))}},{key:"obtenerPacientes",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,this.loaderText_Card="Cargando lista de m\xe9dicos",e.next=4,this.pacienteService.obtenerPacientes(0).then((function(e){t.pacientes=e.pacientes,console.log("Pacientes capturados:",t.pacientes),t.totalRegistrados=e.total,t.updateList=!0,t.loading=!1}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"actualizarLista_Pacientes",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.pacientes=[],this.completeListener=!0,this.listenerText="Actualizando lista de usuarios registrados...",this.desde=0,this.infiniteScroll.disabled=!1,t.next=7,this.pacienteService.obtenerPacientes(0).then((function(t){n.pacientes=t.pacientes,console.log("Pacientes actualizados capturados:",n.pacientes),n.totalRegistrados=t.total,n.updateList=!0,e.target.complete(),n.loading=!1}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"reloadPatients",value:function(t){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.desde+=t,this.desde>=this.totalRegistrados&&(this.desde-=t-10,this.infiniteScroll.disabled=!0,this.completeListener=!0,this.listenerText="Se han mostrado todos los resultados."),n.next=4,this.pacienteService.obtenerPacientes(this.desde).then((function(t){var n;(n=i.pacientes).push.apply(n,e(t.pacientes)),i.infiniteScroll.complete()}));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"editarPaciente",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Datos del paciente seleccionado:",e),t.next=3,this.modalController.create({component:I,componentProps:{paciente:e,create:!1},cssClass:"my-custom-class"});case 3:return n=t.sent,t.next=6,n.present();case 6:return this.ionList.closeSlidingItems(),t.next=9,n.onDidDismiss();case 9:i=t.sent,o=i.data,console.log(o),o&&(r=o.itemReturned,this.pacientes.find((function(t){if(t._id===e._id)return t.nombre=r.nombre,t.edad=r.edad,t.email=r.email,!0}))||this.pacientes.push(r));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"eliminarPaciente",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Datos del paciente seleccionado:",e),n=e._id,t.next=4,this.alertController.create({backdropDismiss:!1,header:"\xbfSeguro?",message:"Estas por eliminar a ".concat(e.nombre,", si deseas ejecutar la acci\xf3n, presiona Eliminar."),buttons:[{text:"Eliminar",cssClass:"delete",handler:function(){return Object(b.a)(o,void 0,void 0,regeneratorRuntime.mark((function t(){var i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pacienteService.eliminarPaciente(n).then((function(t){return Object(b.a)(i,void 0,void 0,regeneratorRuntime.mark((function n(){var i,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Datos recibidos de la petici\xf3n:",t),!t.header){n.next=7;break}return n.next=3,this.toastController.create({header:t.header,position:"bottom"});case 3:n.sent.present(),setTimeout((function(){o.toastController.dismiss()}),3e3),i=this.pacientes.findIndex((function(t){return t._id===e._id})),this.pacientes.splice(i,1),this.ionList.closeSlidingItems();case 7:case"end":return n.stop()}}),n,this)})))}));case 2:case"end":return t.stop()}}),t,this)})))}},{text:"Cancelar",cssClass:"cancel",handler:function(){console.log("Operaci\xf3n cancelada"),o.ionList.closeSlidingItems()}}]});case 4:return i=t.sent,t.next=7,i.present();case 7:case"end":return t.stop()}}),t,this)})))}},{key:"busqueda",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.pacientes=[],this.loading=!0,this.loaderText_Card="Buscando usuarios...",this.completeListener=!1,this.infiniteScroll.disabled=!1,""===e.detail.value&&(this.obtenerPacientes(),this.desde=0,this.completeListener=!1),t.next=8,this.busquedasService.busqueda_Coleccion(e.detail.value,"pacientes").then((function(e){0===e.length?(n.loading=!1,n.completeListener=!0,n.listenerText="No hay resultados con el criterio de b\xfasqueda solicitado."):e.length>0&&(n.loading=!1,n.pacientes=e)}));case 8:case"end":return t.stop()}}),t,this)})))}}]),t}(),O.\u0275fac=function(e){return new(e||O)(p.Ib(l.b),p.Ib(l.U),p.Ib(l.cb),p.Ib(v),p.Ib(R.a))},O.\u0275cmp=p.Cb({type:O,selectors:[["app-pacientes"]],viewQuery:function(e,t){var n;1&e&&(p.hc(l.v,!0),p.hc(l.D,!0)),2&e&&(p.ac(n=p.Ub())&&(t.infiniteScroll=n.first),p.ac(n=p.Ub())&&(t.ionList=n.first))},decls:22,vars:5,consts:[["slot","start"],["defaultHref","/dashboard"],["slot","end"],["color","primary",3,"click"],["slot","icon-only","name","add"],[1,"ion-padding"],["slot","fixed",3,"ionRefresh",4,"ngIf"],["animated","","placeholder","Busca pacientes...",1,"ion-padding",3,"ionChange"],["color","secondary",2,"font-weight","600","opacity","50%"],["slot","end","color","light"],["class","ion-text-center ion-margin-start ion-margin-end",4,"ngIf"],[4,"ngFor","ngForOf"],["class","ion-padding-top",4,"ngIf"],["position","bottom",1,"ion-margin-top",3,"ionInfinite"],["loadingSpinner","crescent","loadingText","Cargando m\xe1s pacientes..."],["slot","fixed",3,"ionRefresh"],[1,"ion-text-center","ion-margin-start","ion-margin-end"],[1,"ion-margin"],["color","primary"],[1,"ion-padding-top"],["side","start"],["color","secondary",3,"click"],["name","pencil-outline","slot","icon-only"],[3,"src"],[2,"font-weight","600"],[2,"opacity","0.5","font-weight","500"],[2,"opacity","0.7","color","#00a591 !important"],["side","end"],["color","danger",3,"click"],["name","trash-bin-outline","slot","icon-only"],[1,"ion-text-center",2,"opacity","50%"]],template:function(e,t){1&e&&(p.Lb(0,"ion-header"),p.Lb(1,"ion-toolbar"),p.Lb(2,"ion-buttons",0),p.Jb(3,"ion-back-button",1),p.Kb(),p.Lb(4,"ion-title"),p.fc(5,"Pacientes Registrados"),p.Kb(),p.Lb(6,"ion-buttons",2),p.Lb(7,"ion-button",3),p.Tb("click",(function(){return t.crearPaciente()})),p.Jb(8,"ion-icon",4),p.Kb(),p.Kb(),p.Kb(),p.Kb(),p.Lb(9,"ion-content",5),p.ec(10,S,2,0,"ion-refresher",6),p.Lb(11,"ion-searchbar",7),p.Tb("ionChange",(function(e){return t.busqueda(e)})),p.Kb(),p.Lb(12,"ion-item"),p.Lb(13,"ion-label",8),p.fc(14,"Total registrados:"),p.Kb(),p.Lb(15,"ion-badge",9),p.fc(16),p.Kb(),p.Kb(),p.ec(17,j,6,1,"div",10),p.ec(18,J,24,5,"ion-list",11),p.ec(19,T,3,1,"div",12),p.Lb(20,"ion-infinite-scroll",13),p.Tb("ionInfinite",(function(){return t.reloadPatients(10)})),p.Jb(21,"ion-infinite-scroll-content",14),p.Kb(),p.Kb()),2&e&&(p.xb(10),p.Yb("ngIf",!0===t.updateList),p.xb(6),p.gc(t.totalRegistrados),p.xb(1),p.Yb("ngIf",!0===t.loading),p.xb(1),p.Yb("ngForOf",t.pacientes),p.xb(1),p.Yb("ngIf",!0===t.completeListener))},directives:[l.s,l.Q,l.j,l.f,l.g,l.P,l.i,l.t,l.q,c.i,l.L,l.bb,l.y,l.C,l.h,c.h,l.v,l.w,l.H,l.I,l.k,l.l,l.M,l.D,l.B,l.A,l.z,l.e],styles:[""]}),O)}],N=((z=function e(){n(this,e)}).\u0275mod=p.Gb({type:z}),z.\u0275inj=p.Fb({factory:function(e){return new(e||z)},imports:[[u.i.forChild(q)],u.i]}),z),M=((E=function e(){n(this,e)}).\u0275mod=p.Gb({type:E}),E.\u0275inj=p.Fb({factory:function(e){return new(e||E)},imports:[[c.b,s.d,s.i,l.R,N]]}),E)}}])}();